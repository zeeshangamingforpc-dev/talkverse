function speakText() {
    const text = document.getElementById("text-input").value;
    const voiceSelect = document.getElementById("voice-select");
    const speed = document.getElementById("speed").value;
    const pitch = document.getElementById("pitch").value;

    if (!text) {
        alert("Please enter text first!");
        return;
    }

    const utterance = new SpeechSynthesisUtterance(text);
    utterance.voice = speechSynthesis.getVoices()[voiceSelect.value];
    utterance.rate = speed;
    utterance.pitch = pitch;

    speechSynthesis.speak(utterance);
}

function loadVoices() {
    const voiceSelect = document.getElementById("voice-select");
    const voices = speechSynthesis.getVoices();

    voiceSelect.innerHTML = "";
    voices.forEach((voice, index) => {
        const option = document.createElement("option");
        option.value = index;
        option.textContent = voice.name + " (" + voice.lang + ")";
        voiceSelect.appendChild(option);
    });
}

window.speechSynthesis.onvoiceschanged = loadVoices;
